= Workflow - Git
include::../../utils/attribute-include[]

== Create New Repo

[%nowrap%linenums,console]
----
$ mkdir <REPO_NAME>
$ cd <REPO_NAME>
$ git init
$ touch <File>
$ git add .
$ git commit -m "<commit message>"
$ git remote add origin $GITREPO/<REPO_NAME>
$ git push --set-upstream origin master
----

''''

== Clone Repo

[source, bash]
----
git clone <SRC> <DST>
git clone <SRC> -b <branch> <DST>
----

''''

[source, bash]
----
git checkout <branch>
git checkout -b <branch>
----

''''

[source, bash]
----
git add <...>
----

''''

[source, bash]
----
git commit -m "<MSG>"
git commit --amend
----

''''

=== Pull, Rebase

[source, bash]
----
git fetch
git merge
----

''''

[source, bash]
----
git pull
git pull origin main
----

''''

[source, bash]
----
git rebese
git rebese -i
git pull --rebese
----

''''

=== Revert

[source, bash]
----
git revert <COMMIT_HASH>
----

''''

[source, bash]
----
git blame <...>
----

''''

[source, bash]
----
git checkout main
git fetch
git checkout [BRANCH]
git rebase main
----

[source, bash]
----
# git branch -> [Branch]
git fetch origin main
git rebase main
----

[source, bash]
----
# git branch -> [Branch]
git fetch origin
git rebase origin/main
----

''''

[source, bash]
----
git push --force-with-lease
----

''''

=== Clone a repo into a new repo

[source, bash]
----
git clone --bare
git push --mirror <DST>
----

''''

== Submodule

[source, bash]
----
git submodule add [REPO] [PATH_NAME]
----

''''

[source, bash]
----
cd subip/SV-common
git checkout R1
----

''''

[source, bash]
----
git clone --recurse-submodules [REPO]
----

[source, bash]
----
git clone [REPO]
git submodule update --init
----

''''

== Branch Workflow

[%nowrap%linenums,bash]
----
git clone -b <BRANCH_NAME>
git push --all
git pull --all

git branch

git checkout <branch>

git merge <>
----

=== Delete Branch

==== Local Branch
[%nowrap%linenums,bash]
----
git branch -d <Branch Name>
----

==== Remote Branch

[%nowrap%linenums,bash]
----
git push origin --delete <Branch Name>
git push origin :<Branch Name>
----

==== Clean up stale local remote-tracking branches

* git fetch --prune
* git fecth -p

== Delete files from Git 

Delete & remove file:

[%nowrap%linenums,bash]
----
git rm <FILE>
----

Delete file only from git, not from dir:

[%nowrap%linenums,bash]
----
 git rm --cached <FILE>
----

== tags

.Annotated-Tag
[%nowrap%linenums,bash]
----
git tag -a "<TAG_NAME>" -m "<TAG_COMMENT>" <COMMIT_HASH>
----

.Lightweight-Tag
[%nowrap%linenums,bash]
----
git tag "<TAG_NAME>" <COMMIT_HASH>
----

== Worktree Workflow

== Information

====
.Git-documentation
****
* link:https://git-scm.com/docs[git-doc]
****
====



